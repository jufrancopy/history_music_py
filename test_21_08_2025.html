<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen de M√∫sica Paraguaya</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #ff6b6b, #ffd93d);
            padding: 30px;
            text-align: center;
            color: white;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .student-info {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }
        
        .student-info h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .question {
            background: #fff;
            border: 2px solid #f0f0f0;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }
        
        .question:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }
        
        .question-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .question-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .question-text {
            font-size: 1.1em;
            font-weight: 600;
            color: #333;
            flex: 1;
        }
        
        .options {
            display: grid;
            gap: 12px;
        }
        
        .option {
            position: relative;
        }
        
        .option label {
            display: flex;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
        }
        
        .option label:hover {
            background: #e9ecef;
            border-color: #667eea;
        }
        
        .option input[type="radio"] {
            margin-right: 12px;
            transform: scale(1.2);
            accent-color: #667eea;
        }
        
        .option label.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .start-exam-btn, .submit-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 30px auto;
            min-width: 200px;
        }
        
        .start-exam-btn:hover, .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }
        
        .exam-section {
            display: none;
        }
        
        .exam-section.active {
            display: block;
        }
        
        .progress-bar {
            background: #f0f0f0;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .results {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }
        
        .results.show {
            display: block;
        }
        
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            font-size: 2em;
            font-weight: bold;
            color: white;
        }
        
        .score-excellent {
            background: linear-gradient(135deg, #4CAF50, #8BC34A);
        }
        
        .score-good {
            background: linear-gradient(135deg, #FF9800, #FFC107);
        }
        
        .score-poor {
            background: linear-gradient(135deg, #F44336, #FF5722);
        }
        
        .download-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }
        
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.3);
        }
        
        .hidden {
            display: none !important;
        }
        
        @media (max-width: 600px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 20px;
            }
            
            .question {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Barra de navegaci√≥n -->
    <nav class="navbar">
        <a href="index.html">
            <img src="historia.png" alt="Logo" class="nav-logo">
        </a>
        <button class="menu-toggle" aria-label="Men√∫">‚ò∞</button>
        <ul class="nav-menu">
            <li class="nav-item"><a href="../index.html" class="nav-link">Inicio</a></li>
            <li class="nav-item"><a href="index.html" class="nav-link">Historia de la M√∫sica</a></li>
            <li class="nav-item"><a href="../intro_filosofia/index.html" class="nav-link">Filosof√≠a</a></li>
            <li class="nav-item"><a href="../contact.html" class="nav-link">Contacto</a></li>
            <li class="nav-item"><a href="test_21_08_2025.html" class="nav-link">Test</a></li>
        </ul>
    </nav>
    <div class="container">
        <div class="header">
            <h1>üéµ Examen de M√∫sica Paraguaya</h1>
            <p>Evaluaci√≥n de conocimientos sobre la m√∫sica tradicional del Paraguay</p>
        </div>
        
        <div class="content">
            <!-- Informaci√≥n del estudiante -->
            <div id="student-info-section" class="student-info">
                <h2>Informaci√≥n del Estudiante</h2>
                <div class="form-group">
                    <label for="firstName">Nombre:</label>
                    <input type="text" id="firstName" placeholder="Ingrese su nombre" required>
                </div>
                <div class="form-group">
                    <label for="lastName">Apellido:</label>
                    <input type="text" id="lastName" placeholder="Ingrese su apellido" required>
                </div>
                <div class="form-group">
                    <label for="email">Correo Electr√≥nico:</label>
                    <input type="email" id="email" placeholder="ejemplo@correo.com" required>
                </div>
                <button class="start-exam-btn" onclick="startExam()">Comenzar Examen</button>
            </div>
            
            <!-- Secci√≥n del examen -->
            <div id="exam-section" class="exam-section">
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <div id="questions-container"></div>
                <button class="submit-btn" onclick="submitExam()">Finalizar Examen</button>
            </div>
            
            <!-- Resultados -->
            <div id="results-section" class="results">
                <h2>¬°Examen Completado!</h2>
                <div id="score-display" class="score-circle">
                    <span id="score-text">0/30</span>
                </div>
                <div id="student-name-display" style="font-size: 1.5em; margin: 20px 0; font-weight: bold;"></div>
                <div id="percentage-display" style="font-size: 1.2em; margin: 10px 0;"></div>
                <div id="grade-display" style="font-size: 1.3em; margin: 10px 0; font-weight: bold;"></div>
                <button class="download-btn" onclick="downloadResults()">üì∏ Descargar Certificado</button>
            </div>
        </div>
    </div>

    <canvas id="results-canvas" style="display: none;"></canvas>

    <script>
        const questions = [
            {
                question: "¬øQu√© tipo de instrumento son los membran√≥fonos?",
                options: [
                    "Instrumentos de cuerda",
                    "Instrumentos de percusi√≥n",
                    "Instrumentos de viento",
                    "Instrumentos que producen sonido mediante la vibraci√≥n de una membrana"
                ],
                answer: "Instrumentos que producen sonido mediante la vibraci√≥n de una membrana"
            },
            {
                question: "¬øCu√°l de los siguientes instrumentos es un aer√≥fono?",
                options: ["Anguapu", "Mimby", "Takuapu", "Mbaraka"],
                answer: "Mimby"
            },
            {
                question: "¬øQu√© instrumento guaran√≠ es conocido como el tambor ceremonial?",
                options: ["Mbaraka", "Anguapu", "Mimby", "Takuapu"],
                answer: "Anguapu"
            },
            {
                question: "¬øCu√°l es la t√©cnica de ejecuci√≥n del Takuapu?",
                options: ["Soplo directo", "Percusi√≥n de suelo", "Sacudimiento", "Pulsaci√≥n"],
                answer: "Percusi√≥n de suelo"
            },
            {
                question: "¬øQu√© funci√≥n cumple el Mbaraka en la cultura guaran√≠?",
                options: ["Comunicaci√≥n espiritual", "Ritual comunitario", "Instrumento femenino", "Curaci√≥n espiritual"],
                answer: "Curaci√≥n espiritual"
            },
            {
                question: "¬øQu√© instrumento se utiliza para convocar a la comunidad en ceremonias?",
                options: ["Mimby", "Popugua√≠", "Kumbij√°re", "Takuap√≠"],
                answer: "Popugua√≠"
            },
            {
                question: "¬øCu√°l es el nombre del sacerdote en la cultura mbya-guaran√≠?",
                options: ["Ku√±√° ku√©ry", "Opygu√°", "Mbya", "Ver√° Chun√∫"],
                answer: "Opygu√°"
            },
            {
                question: "¬øQu√© deidad representa el sol en la cosmolog√≠a mbya?",
                options: ["√ëamand√∫", "Jakaira Chy Et√©", "Taku√° Ver√° Chy Et√©", "Aguyj√©"],
                answer: "√ëamand√∫"
            },
            {
                question: "¬øQu√© periodo abarca la m√∫sica guaran√≠ en estado puro?",
                options: ["1537-1609", "1609-1767", "Pre-1537", "1767-1811"],
                answer: "Pre-1537"
            },
            {
                question: "¬øQui√©n fue un compositor jesuita que integr√≥ elementos guaran√≠es en su m√∫sica barroca?",
                options: ["Domingo Zipoli", "Francisco Pizarro", "Alejo Garc√≠a", "Juan de Salazar"],
                answer: "Domingo Zipoli"
            },
            {
                question: "¬øQu√© periodo abarca el desarrollo musical del Paraguay independiente?",
                options: ["1811-1870", "1609-1767", "1767-1811", "1537-1609"],
                answer: "1811-1870"
            },
            {
                question: "¬øCu√°l fue una de las caracter√≠sticas musicales del per√≠odo independiente?",
                options: [
                    "Uso exclusivo del espa√±ol en las letras",
                    "Biling√ºismo musical: canciones en guaran√≠ y espa√±ol",
                    "Predominancia de la m√∫sica europea",
                    "Fusi√≥n de g√©neros sin influencia ind√≠gena"
                ],
                answer: "Biling√ºismo musical: canciones en guaran√≠ y espa√±ol"
            },
            {
                question: "¬øQu√© g√©nero musical se adapt√≥ al arpa paraguaya durante este per√≠odo?",
                options: ["Samba", "Polca Paraguaya", "Tango", "Bachata"],
                answer: "Polca Paraguaya"
            },
            {
                question: "¬øQu√© tipo de m√∫sica se desarroll√≥ especialmente durante el gobierno de Carlos Antonio L√≥pez?",
                options: ["M√∫sica religiosa", "M√∫sica militar y patri√≥tica", "M√∫sica de c√°mara", "M√∫sica folcl√≥rica europea"],
                answer: "M√∫sica militar y patri√≥tica"
            },
            {
                question: "¬øCu√°l de los siguientes instrumentos es considerado el nacional por excelencia en Paraguay?",
                options: ["Guitarra", "Arpa Paraguaya", "Acorde√≥n", "Flauta Traversa"],
                answer: "Arpa Paraguaya"
            },
            {
                question: "¬øQui√©n fue un compositor destacado que escribi√≥ himnos para Paraguay durante este per√≠odo?",
                options: ["Francisco Acu√±a de Figueroa", "Domingo Zipoli", "Carlos Antonio L√≥pez", "Jos√© Gaspar Rodr√≠guez de Francia"],
                answer: "Francisco Acu√±a de Figueroa"
            },
            {
                question: "¬øQu√© impacto tuvo la Guerra de la Triple Alianza en la m√∫sica paraguaya?",
                options: [
                    "El desarrollo de nuevos g√©neros musicales",
                    "La p√©rdida de gran parte del patrimonio musical",
                    "La introducci√≥n de m√∫sica europea",
                    "El fortalecimiento de la m√∫sica ind√≠gena"
                ],
                answer: "La p√©rdida de gran parte del patrimonio musical"
            },
            {
                question: "¬øQu√© tipo de m√∫sica se adapt√≥ a los instrumentos y voces locales durante este per√≠odo?",
                options: ["M√∫sica de c√°mara", "M√∫sica folcl√≥rica europea", "M√∫sica Religiosa Criolla", "M√∫sica pop moderna"],
                answer: "M√∫sica Religiosa Criolla"
            },
            {
                question: "¬øQu√© funci√≥n tuvo la m√∫sica patri√≥tica durante el per√≠odo independiente?",
                options: [
                    "Entretenimiento personal",
                    "Exaltaci√≥n nacional y celebraci√≥n de la independencia",
                    "M√∫sica de danza exclusivamente",
                    "Rituales religiosos"
                ],
                answer: "Exaltaci√≥n nacional y celebraci√≥n de la independencia"
            },
            {
                question: "¬øQu√© instrumento fue introducido durante el per√≠odo lopizta?",
                options: ["Arpa Paraguaya", "Guitarra", "Acorde√≥n", "Takuapu"],
                answer: "Acorde√≥n"
            },
            {
                question: "¬øCu√°l era la caracter√≠stica principal de la m√∫sica ind√≠gena antes del siglo XVI?",
                options: [
                    "Estructura compleja y est√©tica",
                    "Participaci√≥n colectiva sin m√∫sicos especialistas",
                    "Influencia europea predominante",
                    "Composici√≥n de m√∫sica escrita"
                ],
                answer: "Participaci√≥n colectiva sin m√∫sicos especialistas"
            },
            {
                question: "¬øQui√©n fund√≥ una casa y escuela de m√∫sica en 1543?",
                options: ["Gregorio de Acosta", "Padre Juan Gabriel Lezcano", "Domenico Zipoli", "Jean Vaisseau"],
                answer: "Padre Juan Gabriel Lezcano"
            },
            {
                question: "¬øQu√© compositor italiano fue muy apreciado en las misiones jesu√≠ticas?",
                options: ["Gregorio de Acosta", "Domenico Zipoli", "Anton Sepp", "Francisco Sauvageot de Dupuis"],
                answer: "Domenico Zipoli"
            },
            {
                question: "¬øQui√©n introdujo el arpa en Paraguay?",
                options: ["Domenico Zipoli", "Anton Sepp", "Pedro Comentale", "Francisco Sauvageot de Dupuis"],
                answer: "Anton Sepp"
            },
            {
                question: "¬øQu√© instrumento tocaba Pedro Comentale, quien present√≥ m√∫sicos ind√≠genas en 1628?",
                options: ["Piano", "Guitarra", "Vihuela de arco", "Arpa"],
                answer: "Vihuela de arco"
            },
            {
                question: "¬øQui√©n es considerado el primer maestro de m√∫sica del Paraguay durante la √©poca de Francia?",
                options: ["Antonio Mar√≠a Quintana", "Anastasio Rol√≥n", "Francisco Sauvageot de Dupuis", "Indalecio Odriozola"],
                answer: "Antonio Mar√≠a Quintana"
            },
            {
                question: "¬øQu√© obra es atribuida a Anastasio Rol√≥n?",
                options: ["Himno Nacional", "Campamento Cerro Le√≥n", "Primer Himno Patri√≥tico en guaran√≠", "Habanera sinf√≥nica"],
                answer: "Primer Himno Patri√≥tico en guaran√≠"
            },
            {
                question: "¬øQui√©n organiz√≥ la primera Orquesta Nacional subvencionada por el Estado en 1890?",
                options: ["Cantalicio Guerrero", "Francisco Sauvageot de Dupuis", "Luis Cavedagni", "Indalecio Odriozola"],
                answer: "Cantalicio Guerrero"
            },
            {
                question: "¬øQu√© m√∫sico franc√©s es considerado el presunto autor del Himno Nacional?",
                options: ["Indalecio Odriozola", "Francisco Sauvageot de Dupuis", "Cantalicio Guerrero", "Luis Cavedagni"],
                answer: "Francisco Sauvageot de Dupuis"
            },
            {
                question: "¬øQu√© m√∫sico italiano realiz√≥ la primera reconstrucci√≥n del Himno Nacional publicada en 1874?",
                options: ["Luis Cavedagni", "Domenico Zipoli", "Antonio Mar√≠a Quintana", "Francisco Sauvageot de Dupuis"],
                answer: "Luis Cavedagni"
            }
        ];

        let studentAnswers = {};
        let studentInfo = {};

        function startExam() {
            const firstName = document.getElementById('firstName').value.trim();
            const lastName = document.getElementById('lastName').value.trim();
            const email = document.getElementById('email').value.trim();

            if (!firstName || !lastName || !email) {
                alert('Por favor, complete todos los campos antes de comenzar el examen.');
                return;
            }

            studentInfo = { firstName, lastName, email };
            
            document.getElementById('student-info-section').style.display = 'none';
            document.getElementById('exam-section').classList.add('active');
            
            renderQuestions();
        }

        function renderQuestions() {
            const container = document.getElementById('questions-container');
            container.innerHTML = '';

            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                
                questionDiv.innerHTML = `
                    <div class="question-header">
                        <div class="question-number">${index + 1}</div>
                        <div class="question-text">${q.question}</div>
                    </div>
                    <div class="options">
                        ${q.options.map((option, optIndex) => `
                            <div class="option">
                                <label>
                                    <input type="radio" name="question-${index}" value="${option}" 
                                           onchange="updateAnswer(${index}, '${option}'); updateProgress();">
                                    ${option}
                                </label>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                container.appendChild(questionDiv);
            });
        }

        function updateAnswer(questionIndex, answer) {
            studentAnswers[questionIndex] = answer;
            
            // Update visual feedback
            const labels = document.querySelectorAll(`input[name="question-${questionIndex}"]`);
            labels.forEach(input => {
                const label = input.parentElement;
                if (input.checked) {
                    label.classList.add('selected');
                } else {
                    label.classList.remove('selected');
                }
            });
        }

        function updateProgress() {
            const answered = Object.keys(studentAnswers).length;
            const total = questions.length;
            const percentage = (answered / total) * 100;
            
            document.getElementById('progress-fill').style.width = percentage + '%';
        }

        function submitExam() {
            if (Object.keys(studentAnswers).length !== questions.length) {
                alert('Por favor, responda todas las preguntas antes de finalizar el examen.');
                return;
            }

            const score = calculateScore();
            showResults(score);
        }

        function calculateScore() {
            let correct = 0;
            questions.forEach((q, index) => {
                if (studentAnswers[index] === q.answer) {
                    correct++;
                }
            });
            return correct;
        }

        function showResults(score) {
            document.getElementById('exam-section').style.display = 'none';
            document.getElementById('results-section').classList.add('show');
            
            const percentage = Math.round((score / questions.length) * 100);
            const fullName = `${studentInfo.firstName} ${studentInfo.lastName}`;
            
            document.getElementById('score-text').textContent = `${score}/${questions.length}`;
            document.getElementById('student-name-display').textContent = fullName;
            document.getElementById('percentage-display').textContent = `${percentage}%`;
            
            const scoreCircle = document.getElementById('score-display');
            let grade, gradeColor;
            
            if (percentage >= 80) {
                grade = 'Excelente';
                scoreCircle.className = 'score-circle score-excellent';
            } else if (percentage >= 60) {
                grade = 'Bueno';
                scoreCircle.className = 'score-circle score-good';
            } else {
                grade = 'Necesita mejorar';
                scoreCircle.className = 'score-circle score-poor';
            }
            
            document.getElementById('grade-display').textContent = grade;
        }

        function downloadResults() {
            const canvas = document.getElementById('results-canvas');
            const ctx = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = 800;
            canvas.height = 1000;
            
            // Background gradient
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#667eea');
            gradient.addColorStop(1, '#764ba2');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // White card background
            ctx.fillStyle = 'white';
            ctx.roundRect = function(x, y, w, h, r) {
                this.beginPath();
                this.moveTo(x + r, y);
                this.arcTo(x + w, y, x + w, y + h, r);
                this.arcTo(x + w, y + h, x, y + h, r);
                this.arcTo(x, y + h, x, y, r);
                this.arcTo(x, y, x + w, y, r);
                this.closePath();
                return this;
            }
            ctx.roundRect(50, 100, 700, 800, 20).fill();
            
            // Header
            ctx.fillStyle = '#333';
            ctx.font = 'bold 48px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('üéµ CERTIFICADO DE EXAMEN', 400, 200);
            
            ctx.font = '32px Arial';
            ctx.fillStyle = '#666';
            ctx.fillText('M√∫sica Paraguaya', 400, 250);
            
            // Student name
            ctx.font = 'bold 36px Arial';
            ctx.fillStyle = '#333';
            ctx.fillText(`${studentInfo.firstName} ${studentInfo.lastName}`, 400, 350);
            
            // Email
            ctx.font = '24px Arial';
            ctx.fillStyle = '#666';
            ctx.fillText(studentInfo.email, 400, 390);
            
            // Score circle
            const score = calculateScore();
            const percentage = Math.round((score / questions.length) * 100);
            
            // Circle background
            ctx.beginPath();
            ctx.arc(400, 520, 100, 0, 2 * Math.PI);
            if (percentage >= 80) {
                ctx.fillStyle = '#4CAF50';
            } else if (percentage >= 60) {
                ctx.fillStyle = '#FF9800';
            } else {
                ctx.fillStyle = '#F44336';
            }
            ctx.fill();
            
            // Score text
            ctx.fillStyle = 'white';
            ctx.font = 'bold 48px Arial';
            ctx.fillText(`${score}/${questions.length}`, 400, 535);
            
            // Percentage
            ctx.fillStyle = '#333';
            ctx.font = 'bold 42px Arial';
            ctx.fillText(`${percentage}%`, 400, 680);
            
            // Grade
            let grade;
            if (percentage >= 80) grade = 'EXCELENTE';
            else if (percentage >= 60) grade = 'BUENO';
            else grade = 'NECESITA MEJORAR';
            
            ctx.font = 'bold 36px Arial';
            ctx.fillText(grade, 400, 740);
            
            // Date
            const now = new Date();
            const dateString = now.toLocaleDateString('es-ES', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            ctx.font = '20px Arial';
            ctx.fillStyle = '#666';
            ctx.fillText(`Fecha: ${dateString}`, 400, 820);
            
            // Download
            canvas.toBlob(function(blob) {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Certificado_${studentInfo.firstName}_${studentInfo.lastName}.png`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            });
        }
    </script>
</body>
</html>